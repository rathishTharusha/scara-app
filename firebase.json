{
  "hosting": {
    "public": "public",
    "ignore": ["firebase.json", "**/.*", "**/node_modules/**"],
    "rewrites": [{"source": "**", "destination": "/index.html"}]
  }
}

// functions/index.js
const functions = require("firebase-functions");
const admin = require("firebase-admin");
const axios = require("axios");
admin.initializeApp();

exports.sendToPi = functions.firestore
  .document("commands/{commandId}")
  .onCreate(async (snap, context) => {
    const data = snap.data();
    const payload = {
      shape: data.shape,
      color: data.color
    };
    try {
      await axios.post("http://YOUR_PI_PUBLIC_URL:5000/receive_command", payload);
    } catch (error) {
      console.error("Pi POST error:", error.message);
    }
    return null;
  });
